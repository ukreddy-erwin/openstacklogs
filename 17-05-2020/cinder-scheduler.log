2020-05-17 01:29:18.158 22698 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:29:18.576 22698 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:29:18.661 22698 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:29:19.851 22698 CRITICAL cinder [req-a8e1195c-c5ed-4731-9a9a-26b440390d96 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:19.851 22698 ERROR cinder Traceback (most recent call last):
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:29:19.851 22698 ERROR cinder     sys.exit(main())
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:29:19.851 22698 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:29:19.851 22698 ERROR cinder     cluster=cluster)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:29:19.851 22698 ERROR cinder     *args, **kwargs)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:29:19.851 22698 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:19.851 22698 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:29:19.851 22698 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:29:19.851 22698 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:19.851 22698 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:29:19.851 22698 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:29:19.851 22698 ERROR cinder     'frozen': False})
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:29:19.851 22698 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:29:19.851 22698 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:29:19.851 22698 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:29:19.851 22698 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:29:19.851 22698 ERROR cinder     return list(self)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:29:19.851 22698 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:29:19.851 22698 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:29:19.851 22698 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:29:19.851 22698 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:29:19.851 22698 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:29:19.851 22698 ERROR cinder     context)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:29:19.851 22698 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:29:19.851 22698 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:29:19.851 22698 ERROR cinder     context)
2020-05-17 01:29:19.851 22698 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:29:19.851 22698 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:29:19.851 22698 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:19.851 22698 ERROR cinder 
2020-05-17 01:29:27.301 22886 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:29:27.608 22886 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:29:27.709 22886 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:29:28.882 22886 CRITICAL cinder [req-e0b6e9f0-7366-4164-8ccc-09d0f08ee951 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:28.882 22886 ERROR cinder Traceback (most recent call last):
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:29:28.882 22886 ERROR cinder     sys.exit(main())
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:29:28.882 22886 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:29:28.882 22886 ERROR cinder     cluster=cluster)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:29:28.882 22886 ERROR cinder     *args, **kwargs)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:29:28.882 22886 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:28.882 22886 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:29:28.882 22886 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:29:28.882 22886 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:28.882 22886 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:29:28.882 22886 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:29:28.882 22886 ERROR cinder     'frozen': False})
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:29:28.882 22886 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:29:28.882 22886 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:29:28.882 22886 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:29:28.882 22886 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:29:28.882 22886 ERROR cinder     return list(self)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:29:28.882 22886 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:29:28.882 22886 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:29:28.882 22886 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:29:28.882 22886 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:29:28.882 22886 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:29:28.882 22886 ERROR cinder     context)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:29:28.882 22886 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:29:28.882 22886 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:29:28.882 22886 ERROR cinder     context)
2020-05-17 01:29:28.882 22886 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:29:28.882 22886 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:29:28.882 22886 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:28.882 22886 ERROR cinder 
2020-05-17 01:29:36.367 22913 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:29:36.687 22913 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:29:36.777 22913 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:29:37.932 22913 CRITICAL cinder [req-13493242-7369-4712-a629-3f34d9f3ad90 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:37.932 22913 ERROR cinder Traceback (most recent call last):
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:29:37.932 22913 ERROR cinder     sys.exit(main())
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:29:37.932 22913 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:29:37.932 22913 ERROR cinder     cluster=cluster)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:29:37.932 22913 ERROR cinder     *args, **kwargs)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:29:37.932 22913 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:37.932 22913 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:29:37.932 22913 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:29:37.932 22913 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:37.932 22913 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:29:37.932 22913 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:29:37.932 22913 ERROR cinder     'frozen': False})
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:29:37.932 22913 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:29:37.932 22913 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:29:37.932 22913 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:29:37.932 22913 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:29:37.932 22913 ERROR cinder     return list(self)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:29:37.932 22913 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:29:37.932 22913 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:29:37.932 22913 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:29:37.932 22913 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:29:37.932 22913 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:29:37.932 22913 ERROR cinder     context)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:29:37.932 22913 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:29:37.932 22913 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:29:37.932 22913 ERROR cinder     context)
2020-05-17 01:29:37.932 22913 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:29:37.932 22913 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:29:37.932 22913 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:37.932 22913 ERROR cinder 
2020-05-17 01:29:45.503 22942 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:29:45.810 22942 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:29:45.917 22942 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:29:47.100 22942 CRITICAL cinder [req-6c114a3f-cb22-41a7-b7b0-1fedd7144ed7 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:47.100 22942 ERROR cinder Traceback (most recent call last):
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:29:47.100 22942 ERROR cinder     sys.exit(main())
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:29:47.100 22942 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:29:47.100 22942 ERROR cinder     cluster=cluster)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:29:47.100 22942 ERROR cinder     *args, **kwargs)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:29:47.100 22942 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:47.100 22942 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:29:47.100 22942 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:29:47.100 22942 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:47.100 22942 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:29:47.100 22942 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:29:47.100 22942 ERROR cinder     'frozen': False})
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:29:47.100 22942 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:29:47.100 22942 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:29:47.100 22942 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:29:47.100 22942 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:29:47.100 22942 ERROR cinder     return list(self)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:29:47.100 22942 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:29:47.100 22942 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:29:47.100 22942 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:29:47.100 22942 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:29:47.100 22942 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:29:47.100 22942 ERROR cinder     context)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:29:47.100 22942 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:29:47.100 22942 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:29:47.100 22942 ERROR cinder     context)
2020-05-17 01:29:47.100 22942 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:29:47.100 22942 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:29:47.100 22942 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:47.100 22942 ERROR cinder 
2020-05-17 01:29:54.210 22970 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:29:54.547 22970 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:29:54.638 22970 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:29:55.772 22970 CRITICAL cinder [req-2d7ed68d-0aee-4bc6-b481-be123d80f51d - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:55.772 22970 ERROR cinder Traceback (most recent call last):
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:29:55.772 22970 ERROR cinder     sys.exit(main())
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:29:55.772 22970 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:29:55.772 22970 ERROR cinder     cluster=cluster)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:29:55.772 22970 ERROR cinder     *args, **kwargs)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:29:55.772 22970 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:55.772 22970 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:29:55.772 22970 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:29:55.772 22970 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:29:55.772 22970 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:29:55.772 22970 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:29:55.772 22970 ERROR cinder     'frozen': False})
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:29:55.772 22970 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:29:55.772 22970 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:29:55.772 22970 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:29:55.772 22970 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:29:55.772 22970 ERROR cinder     return list(self)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:29:55.772 22970 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:29:55.772 22970 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:29:55.772 22970 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:29:55.772 22970 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:29:55.772 22970 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:29:55.772 22970 ERROR cinder     context)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:29:55.772 22970 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:29:55.772 22970 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:29:55.772 22970 ERROR cinder     context)
2020-05-17 01:29:55.772 22970 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:29:55.772 22970 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:29:55.772 22970 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:29:55.772 22970 ERROR cinder 
2020-05-17 01:30:03.287 22998 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:03.601 22998 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:03.696 22998 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:04.833 22998 CRITICAL cinder [req-7c90108e-5633-4c47-8257-e699f744d1c0 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:04.833 22998 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:04.833 22998 ERROR cinder     sys.exit(main())
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:04.833 22998 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:04.833 22998 ERROR cinder     cluster=cluster)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:04.833 22998 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:04.833 22998 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:04.833 22998 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:04.833 22998 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:04.833 22998 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:04.833 22998 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:04.833 22998 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:04.833 22998 ERROR cinder     'frozen': False})
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:04.833 22998 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:04.833 22998 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:04.833 22998 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:04.833 22998 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:04.833 22998 ERROR cinder     return list(self)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:04.833 22998 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:04.833 22998 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:04.833 22998 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:04.833 22998 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:04.833 22998 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:04.833 22998 ERROR cinder     context)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:04.833 22998 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:04.833 22998 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:04.833 22998 ERROR cinder     context)
2020-05-17 01:30:04.833 22998 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:04.833 22998 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:04.833 22998 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:04.833 22998 ERROR cinder 
2020-05-17 01:30:12.106 23024 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:12.400 23024 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:12.495 23024 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:13.652 23024 CRITICAL cinder [req-b31fc0fa-0d19-423c-aa0e-c1c7a224e2c4 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:13.652 23024 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:13.652 23024 ERROR cinder     sys.exit(main())
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:13.652 23024 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:13.652 23024 ERROR cinder     cluster=cluster)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:13.652 23024 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:13.652 23024 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:13.652 23024 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:13.652 23024 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:13.652 23024 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:13.652 23024 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:13.652 23024 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:13.652 23024 ERROR cinder     'frozen': False})
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:13.652 23024 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:13.652 23024 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:13.652 23024 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:13.652 23024 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:13.652 23024 ERROR cinder     return list(self)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:13.652 23024 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:13.652 23024 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:13.652 23024 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:13.652 23024 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:13.652 23024 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:13.652 23024 ERROR cinder     context)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:13.652 23024 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:13.652 23024 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:13.652 23024 ERROR cinder     context)
2020-05-17 01:30:13.652 23024 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:13.652 23024 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:13.652 23024 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:13.652 23024 ERROR cinder 
2020-05-17 01:30:21.147 23050 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:21.437 23050 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:21.541 23050 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:22.702 23050 CRITICAL cinder [req-12abdfb0-59bf-4d7c-a31c-575925b00897 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:22.702 23050 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:22.702 23050 ERROR cinder     sys.exit(main())
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:22.702 23050 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:22.702 23050 ERROR cinder     cluster=cluster)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:22.702 23050 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:22.702 23050 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:22.702 23050 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:22.702 23050 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:22.702 23050 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:22.702 23050 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:22.702 23050 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:22.702 23050 ERROR cinder     'frozen': False})
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:22.702 23050 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:22.702 23050 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:22.702 23050 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:22.702 23050 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:22.702 23050 ERROR cinder     return list(self)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:22.702 23050 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:22.702 23050 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:22.702 23050 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:22.702 23050 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:22.702 23050 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:22.702 23050 ERROR cinder     context)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:22.702 23050 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:22.702 23050 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:22.702 23050 ERROR cinder     context)
2020-05-17 01:30:22.702 23050 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:22.702 23050 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:22.702 23050 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:22.702 23050 ERROR cinder 
2020-05-17 01:30:30.040 23078 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:30.330 23078 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:30.435 23078 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:31.550 23078 CRITICAL cinder [req-e1b9d845-a23b-4f91-8c88-cd9dd6ca248d - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:31.550 23078 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:31.550 23078 ERROR cinder     sys.exit(main())
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:31.550 23078 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:31.550 23078 ERROR cinder     cluster=cluster)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:31.550 23078 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:31.550 23078 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:31.550 23078 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:31.550 23078 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:31.550 23078 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:31.550 23078 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:31.550 23078 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:31.550 23078 ERROR cinder     'frozen': False})
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:31.550 23078 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:31.550 23078 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:31.550 23078 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:31.550 23078 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:31.550 23078 ERROR cinder     return list(self)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:31.550 23078 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:31.550 23078 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:31.550 23078 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:31.550 23078 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:31.550 23078 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:31.550 23078 ERROR cinder     context)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:31.550 23078 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:31.550 23078 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:31.550 23078 ERROR cinder     context)
2020-05-17 01:30:31.550 23078 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:31.550 23078 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:31.550 23078 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:31.550 23078 ERROR cinder 
2020-05-17 01:30:38.741 23104 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:39.039 23104 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:39.141 23104 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:40.259 23104 CRITICAL cinder [req-5ebdce1e-beda-4ea0-b2fe-cc30a7b2c20a - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:40.259 23104 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:40.259 23104 ERROR cinder     sys.exit(main())
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:40.259 23104 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:40.259 23104 ERROR cinder     cluster=cluster)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:40.259 23104 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:40.259 23104 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:40.259 23104 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:40.259 23104 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:40.259 23104 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:40.259 23104 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:40.259 23104 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:40.259 23104 ERROR cinder     'frozen': False})
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:40.259 23104 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:40.259 23104 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:40.259 23104 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:40.259 23104 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:40.259 23104 ERROR cinder     return list(self)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:40.259 23104 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:40.259 23104 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:40.259 23104 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:40.259 23104 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:40.259 23104 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:40.259 23104 ERROR cinder     context)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:40.259 23104 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:40.259 23104 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:40.259 23104 ERROR cinder     context)
2020-05-17 01:30:40.259 23104 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:40.259 23104 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:40.259 23104 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:40.259 23104 ERROR cinder 
2020-05-17 01:30:47.584 23131 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:47.869 23131 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:47.959 23131 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:49.072 23131 CRITICAL cinder [req-86be1b3c-077b-41cf-b88b-e9ddb7e20d16 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:49.072 23131 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:49.072 23131 ERROR cinder     sys.exit(main())
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:49.072 23131 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:49.072 23131 ERROR cinder     cluster=cluster)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:49.072 23131 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:49.072 23131 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:49.072 23131 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:49.072 23131 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:49.072 23131 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:49.072 23131 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:49.072 23131 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:49.072 23131 ERROR cinder     'frozen': False})
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:49.072 23131 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:49.072 23131 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:49.072 23131 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:49.072 23131 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:49.072 23131 ERROR cinder     return list(self)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:49.072 23131 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:49.072 23131 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:49.072 23131 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:49.072 23131 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:49.072 23131 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:49.072 23131 ERROR cinder     context)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:49.072 23131 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:49.072 23131 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:49.072 23131 ERROR cinder     context)
2020-05-17 01:30:49.072 23131 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:49.072 23131 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:49.072 23131 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:49.072 23131 ERROR cinder 
2020-05-17 01:30:56.188 23157 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:30:56.499 23157 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:30:56.603 23157 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:30:57.805 23157 CRITICAL cinder [req-e6118f6b-e830-4d42-afbc-91c92fd3e98b - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:57.805 23157 ERROR cinder Traceback (most recent call last):
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:30:57.805 23157 ERROR cinder     sys.exit(main())
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:30:57.805 23157 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:30:57.805 23157 ERROR cinder     cluster=cluster)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:30:57.805 23157 ERROR cinder     *args, **kwargs)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:30:57.805 23157 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:57.805 23157 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:30:57.805 23157 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:30:57.805 23157 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:30:57.805 23157 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:30:57.805 23157 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:30:57.805 23157 ERROR cinder     'frozen': False})
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:30:57.805 23157 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:30:57.805 23157 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:30:57.805 23157 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:30:57.805 23157 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:30:57.805 23157 ERROR cinder     return list(self)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:30:57.805 23157 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:30:57.805 23157 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:30:57.805 23157 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:30:57.805 23157 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:30:57.805 23157 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:30:57.805 23157 ERROR cinder     context)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:30:57.805 23157 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:30:57.805 23157 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:30:57.805 23157 ERROR cinder     context)
2020-05-17 01:30:57.805 23157 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:30:57.805 23157 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:30:57.805 23157 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:30:57.805 23157 ERROR cinder 
2020-05-17 01:31:04.795 23183 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:04.985 23183 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:05.047 23183 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:05.767 23183 CRITICAL cinder [req-69f0ad69-a640-44be-9d03-35e86cdcef26 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:05.767 23183 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:05.767 23183 ERROR cinder     sys.exit(main())
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:05.767 23183 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:05.767 23183 ERROR cinder     cluster=cluster)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:05.767 23183 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:05.767 23183 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:05.767 23183 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:05.767 23183 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:05.767 23183 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:05.767 23183 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:05.767 23183 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:05.767 23183 ERROR cinder     'frozen': False})
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:05.767 23183 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:05.767 23183 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:05.767 23183 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:05.767 23183 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:05.767 23183 ERROR cinder     return list(self)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:05.767 23183 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:05.767 23183 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:05.767 23183 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:05.767 23183 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:05.767 23183 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:05.767 23183 ERROR cinder     context)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:05.767 23183 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:05.767 23183 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:05.767 23183 ERROR cinder     context)
2020-05-17 01:31:05.767 23183 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:05.767 23183 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:05.767 23183 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:05.767 23183 ERROR cinder 
2020-05-17 01:31:10.430 23207 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:10.563 23207 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:10.593 23207 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:10.972 23207 CRITICAL cinder [req-99ea2fc9-7fe3-4619-9824-371fd1c9d822 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:10.972 23207 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:10.972 23207 ERROR cinder     sys.exit(main())
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:10.972 23207 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:10.972 23207 ERROR cinder     cluster=cluster)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:10.972 23207 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:10.972 23207 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:10.972 23207 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:10.972 23207 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:10.972 23207 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:10.972 23207 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:10.972 23207 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:10.972 23207 ERROR cinder     'frozen': False})
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:10.972 23207 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:10.972 23207 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:10.972 23207 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:10.972 23207 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:10.972 23207 ERROR cinder     return list(self)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:10.972 23207 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:10.972 23207 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:10.972 23207 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:10.972 23207 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:10.972 23207 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:10.972 23207 ERROR cinder     context)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:10.972 23207 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:10.972 23207 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:10.972 23207 ERROR cinder     context)
2020-05-17 01:31:10.972 23207 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:10.972 23207 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:10.972 23207 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:10.972 23207 ERROR cinder 
2020-05-17 01:31:13.686 23232 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:13.781 23232 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:13.811 23232 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:14.229 23232 CRITICAL cinder [req-2d054582-f717-4a34-80e0-0209d8def385 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:14.229 23232 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:14.229 23232 ERROR cinder     sys.exit(main())
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:14.229 23232 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:14.229 23232 ERROR cinder     cluster=cluster)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:14.229 23232 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:14.229 23232 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:14.229 23232 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:14.229 23232 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:14.229 23232 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:14.229 23232 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:14.229 23232 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:14.229 23232 ERROR cinder     'frozen': False})
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:14.229 23232 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:14.229 23232 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:14.229 23232 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:14.229 23232 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:14.229 23232 ERROR cinder     return list(self)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:14.229 23232 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:14.229 23232 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:14.229 23232 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:14.229 23232 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:14.229 23232 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:14.229 23232 ERROR cinder     context)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:14.229 23232 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:14.229 23232 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:14.229 23232 ERROR cinder     context)
2020-05-17 01:31:14.229 23232 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:14.229 23232 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:14.229 23232 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:14.229 23232 ERROR cinder 
2020-05-17 01:31:16.923 23252 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:17.023 23252 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:17.055 23252 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:17.474 23252 CRITICAL cinder [req-6d1e6585-60ef-476c-a157-c05797df6cca - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:17.474 23252 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:17.474 23252 ERROR cinder     sys.exit(main())
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:17.474 23252 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:17.474 23252 ERROR cinder     cluster=cluster)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:17.474 23252 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:17.474 23252 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:17.474 23252 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:17.474 23252 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:17.474 23252 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:17.474 23252 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:17.474 23252 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:17.474 23252 ERROR cinder     'frozen': False})
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:17.474 23252 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:17.474 23252 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:17.474 23252 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:17.474 23252 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:17.474 23252 ERROR cinder     return list(self)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:17.474 23252 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:17.474 23252 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:17.474 23252 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:17.474 23252 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:17.474 23252 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:17.474 23252 ERROR cinder     context)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:17.474 23252 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:17.474 23252 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:17.474 23252 ERROR cinder     context)
2020-05-17 01:31:17.474 23252 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:17.474 23252 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:17.474 23252 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:17.474 23252 ERROR cinder 
2020-05-17 01:31:20.049 23275 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:20.139 23275 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:20.169 23275 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:20.565 23275 CRITICAL cinder [req-64bb9736-9778-49ee-ad35-5bda8a03ef17 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:20.565 23275 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:20.565 23275 ERROR cinder     sys.exit(main())
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:20.565 23275 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:20.565 23275 ERROR cinder     cluster=cluster)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:20.565 23275 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:20.565 23275 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:20.565 23275 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:20.565 23275 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:20.565 23275 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:20.565 23275 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:20.565 23275 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:20.565 23275 ERROR cinder     'frozen': False})
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:20.565 23275 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:20.565 23275 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:20.565 23275 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:20.565 23275 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:20.565 23275 ERROR cinder     return list(self)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:20.565 23275 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:20.565 23275 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:20.565 23275 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:20.565 23275 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:20.565 23275 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:20.565 23275 ERROR cinder     context)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:20.565 23275 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:20.565 23275 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:20.565 23275 ERROR cinder     context)
2020-05-17 01:31:20.565 23275 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:20.565 23275 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:20.565 23275 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:20.565 23275 ERROR cinder 
2020-05-17 01:31:23.196 23295 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:23.306 23295 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:23.336 23295 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:23.725 23295 CRITICAL cinder [req-6d1a61bb-322e-4354-b84c-ca8b24d087c9 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:23.725 23295 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:23.725 23295 ERROR cinder     sys.exit(main())
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:23.725 23295 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:23.725 23295 ERROR cinder     cluster=cluster)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:23.725 23295 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:23.725 23295 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:23.725 23295 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:23.725 23295 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:23.725 23295 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:23.725 23295 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:23.725 23295 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:23.725 23295 ERROR cinder     'frozen': False})
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:23.725 23295 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:23.725 23295 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:23.725 23295 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:23.725 23295 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:23.725 23295 ERROR cinder     return list(self)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:23.725 23295 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:23.725 23295 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:23.725 23295 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:23.725 23295 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:23.725 23295 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:23.725 23295 ERROR cinder     context)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:23.725 23295 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:23.725 23295 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:23.725 23295 ERROR cinder     context)
2020-05-17 01:31:23.725 23295 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:23.725 23295 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:23.725 23295 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:23.725 23295 ERROR cinder 
2020-05-17 01:31:26.280 23317 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:26.372 23317 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:26.403 23317 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:26.787 23317 CRITICAL cinder [req-042bb43a-8631-4b8d-9125-3b961a5a253f - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:26.787 23317 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:26.787 23317 ERROR cinder     sys.exit(main())
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:26.787 23317 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:26.787 23317 ERROR cinder     cluster=cluster)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:26.787 23317 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:26.787 23317 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:26.787 23317 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:26.787 23317 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:26.787 23317 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:26.787 23317 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:26.787 23317 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:26.787 23317 ERROR cinder     'frozen': False})
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:26.787 23317 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:26.787 23317 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:26.787 23317 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:26.787 23317 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:26.787 23317 ERROR cinder     return list(self)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:26.787 23317 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:26.787 23317 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:26.787 23317 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:26.787 23317 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:26.787 23317 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:26.787 23317 ERROR cinder     context)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:26.787 23317 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:26.787 23317 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:26.787 23317 ERROR cinder     context)
2020-05-17 01:31:26.787 23317 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:26.787 23317 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:26.787 23317 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:26.787 23317 ERROR cinder 
2020-05-17 01:31:29.321 23337 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:29.411 23337 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:29.440 23337 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:29.806 23337 CRITICAL cinder [req-98d324d1-dc25-413d-82e6-fb974ccbee7b - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:29.806 23337 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:29.806 23337 ERROR cinder     sys.exit(main())
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:29.806 23337 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:29.806 23337 ERROR cinder     cluster=cluster)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:29.806 23337 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:29.806 23337 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:29.806 23337 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:29.806 23337 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:29.806 23337 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:29.806 23337 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:29.806 23337 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:29.806 23337 ERROR cinder     'frozen': False})
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:29.806 23337 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:29.806 23337 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:29.806 23337 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:29.806 23337 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:29.806 23337 ERROR cinder     return list(self)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:29.806 23337 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:29.806 23337 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:29.806 23337 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:29.806 23337 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:29.806 23337 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:29.806 23337 ERROR cinder     context)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:29.806 23337 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:29.806 23337 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:29.806 23337 ERROR cinder     context)
2020-05-17 01:31:29.806 23337 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:29.806 23337 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:29.806 23337 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:29.806 23337 ERROR cinder 
2020-05-17 01:31:32.364 23360 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:32.463 23360 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:32.492 23360 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:32.862 23360 CRITICAL cinder [req-9a62f0e9-e950-4704-99c4-47770f21c31a - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:32.862 23360 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:32.862 23360 ERROR cinder     sys.exit(main())
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:32.862 23360 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:32.862 23360 ERROR cinder     cluster=cluster)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:32.862 23360 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:32.862 23360 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:32.862 23360 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:32.862 23360 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:32.862 23360 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:32.862 23360 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:32.862 23360 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:32.862 23360 ERROR cinder     'frozen': False})
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:32.862 23360 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:32.862 23360 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:32.862 23360 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:32.862 23360 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:32.862 23360 ERROR cinder     return list(self)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:32.862 23360 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:32.862 23360 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:32.862 23360 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:32.862 23360 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:32.862 23360 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:32.862 23360 ERROR cinder     context)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:32.862 23360 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:32.862 23360 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:32.862 23360 ERROR cinder     context)
2020-05-17 01:31:32.862 23360 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:32.862 23360 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:32.862 23360 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:32.862 23360 ERROR cinder 
2020-05-17 01:31:35.396 23384 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:35.509 23384 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:35.542 23384 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:35.933 23384 CRITICAL cinder [req-53e92abd-ab8a-47be-b79c-6686675324f3 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:35.933 23384 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:35.933 23384 ERROR cinder     sys.exit(main())
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:35.933 23384 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:35.933 23384 ERROR cinder     cluster=cluster)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:35.933 23384 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:35.933 23384 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:35.933 23384 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:35.933 23384 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:35.933 23384 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:35.933 23384 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:35.933 23384 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:35.933 23384 ERROR cinder     'frozen': False})
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:35.933 23384 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:35.933 23384 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:35.933 23384 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:35.933 23384 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:35.933 23384 ERROR cinder     return list(self)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:35.933 23384 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:35.933 23384 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:35.933 23384 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:35.933 23384 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:35.933 23384 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:35.933 23384 ERROR cinder     context)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:35.933 23384 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:35.933 23384 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:35.933 23384 ERROR cinder     context)
2020-05-17 01:31:35.933 23384 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:35.933 23384 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:35.933 23384 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:35.933 23384 ERROR cinder 
2020-05-17 01:31:39.254 23406 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:39.352 23406 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:39.382 23406 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:39.744 23406 CRITICAL cinder [req-06396eaa-6b74-43ca-8e9c-79203508288d - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:39.744 23406 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:39.744 23406 ERROR cinder     sys.exit(main())
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:39.744 23406 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:39.744 23406 ERROR cinder     cluster=cluster)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:39.744 23406 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:39.744 23406 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:39.744 23406 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:39.744 23406 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:39.744 23406 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:39.744 23406 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:39.744 23406 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:39.744 23406 ERROR cinder     'frozen': False})
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:39.744 23406 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:39.744 23406 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:39.744 23406 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:39.744 23406 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:39.744 23406 ERROR cinder     return list(self)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:39.744 23406 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:39.744 23406 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:39.744 23406 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:39.744 23406 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:39.744 23406 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:39.744 23406 ERROR cinder     context)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:39.744 23406 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:39.744 23406 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:39.744 23406 ERROR cinder     context)
2020-05-17 01:31:39.744 23406 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:39.744 23406 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:39.744 23406 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:39.744 23406 ERROR cinder 
2020-05-17 01:31:42.387 23430 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:42.483 23430 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:42.514 23430 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:42.884 23430 CRITICAL cinder [req-2fd85c67-68e6-4af5-9f49-8bafc8b46e52 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:42.884 23430 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:42.884 23430 ERROR cinder     sys.exit(main())
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:42.884 23430 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:42.884 23430 ERROR cinder     cluster=cluster)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:42.884 23430 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:42.884 23430 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:42.884 23430 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:42.884 23430 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:42.884 23430 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:42.884 23430 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:42.884 23430 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:42.884 23430 ERROR cinder     'frozen': False})
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:42.884 23430 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:42.884 23430 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:42.884 23430 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:42.884 23430 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:42.884 23430 ERROR cinder     return list(self)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:42.884 23430 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:42.884 23430 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:42.884 23430 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:42.884 23430 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:42.884 23430 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:42.884 23430 ERROR cinder     context)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:42.884 23430 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:42.884 23430 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:42.884 23430 ERROR cinder     context)
2020-05-17 01:31:42.884 23430 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:42.884 23430 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:42.884 23430 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:42.884 23430 ERROR cinder 
2020-05-17 01:31:45.469 23452 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:45.564 23452 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:45.597 23452 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:45.997 23452 CRITICAL cinder [req-abe4157a-ff35-4eb2-9b57-b01701851e72 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:45.997 23452 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:45.997 23452 ERROR cinder     sys.exit(main())
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:45.997 23452 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:45.997 23452 ERROR cinder     cluster=cluster)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:45.997 23452 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:45.997 23452 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:45.997 23452 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:45.997 23452 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:45.997 23452 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:45.997 23452 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:45.997 23452 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:45.997 23452 ERROR cinder     'frozen': False})
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:45.997 23452 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:45.997 23452 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:45.997 23452 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:45.997 23452 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:45.997 23452 ERROR cinder     return list(self)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:45.997 23452 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:45.997 23452 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:45.997 23452 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:45.997 23452 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:45.997 23452 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:45.997 23452 ERROR cinder     context)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:45.997 23452 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:45.997 23452 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:45.997 23452 ERROR cinder     context)
2020-05-17 01:31:45.997 23452 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:45.997 23452 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:45.997 23452 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:45.997 23452 ERROR cinder 
2020-05-17 01:31:48.636 23473 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:48.737 23473 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:48.766 23473 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:49.167 23473 CRITICAL cinder [req-5a8af9ad-1f8f-40f8-a48c-af8a0a508a3e - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:49.167 23473 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:49.167 23473 ERROR cinder     sys.exit(main())
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:49.167 23473 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:49.167 23473 ERROR cinder     cluster=cluster)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:49.167 23473 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:49.167 23473 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:49.167 23473 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:49.167 23473 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:49.167 23473 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:49.167 23473 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:49.167 23473 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:49.167 23473 ERROR cinder     'frozen': False})
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:49.167 23473 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:49.167 23473 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:49.167 23473 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:49.167 23473 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:49.167 23473 ERROR cinder     return list(self)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:49.167 23473 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:49.167 23473 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:49.167 23473 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:49.167 23473 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:49.167 23473 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:49.167 23473 ERROR cinder     context)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:49.167 23473 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:49.167 23473 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:49.167 23473 ERROR cinder     context)
2020-05-17 01:31:49.167 23473 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:49.167 23473 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:49.167 23473 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:49.167 23473 ERROR cinder 
2020-05-17 01:31:51.872 23494 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:51.972 23494 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:52.004 23494 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:52.372 23494 CRITICAL cinder [req-545d3c88-481f-4f59-8899-255417980224 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:52.372 23494 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:52.372 23494 ERROR cinder     sys.exit(main())
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:52.372 23494 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:52.372 23494 ERROR cinder     cluster=cluster)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:52.372 23494 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:52.372 23494 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:52.372 23494 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:52.372 23494 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:52.372 23494 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:52.372 23494 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:52.372 23494 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:52.372 23494 ERROR cinder     'frozen': False})
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:52.372 23494 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:52.372 23494 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:52.372 23494 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:52.372 23494 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:52.372 23494 ERROR cinder     return list(self)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:52.372 23494 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:52.372 23494 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:52.372 23494 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:52.372 23494 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:52.372 23494 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:52.372 23494 ERROR cinder     context)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:52.372 23494 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:52.372 23494 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:52.372 23494 ERROR cinder     context)
2020-05-17 01:31:52.372 23494 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:52.372 23494 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:52.372 23494 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:52.372 23494 ERROR cinder 
2020-05-17 01:31:54.882 23516 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:54.999 23516 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:55.030 23516 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:55.413 23516 CRITICAL cinder [req-3256c6ad-e250-4589-80a8-82efec76dcef - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:55.413 23516 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:55.413 23516 ERROR cinder     sys.exit(main())
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:55.413 23516 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:55.413 23516 ERROR cinder     cluster=cluster)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:55.413 23516 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:55.413 23516 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:55.413 23516 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:55.413 23516 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:55.413 23516 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:55.413 23516 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:55.413 23516 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:55.413 23516 ERROR cinder     'frozen': False})
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:55.413 23516 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:55.413 23516 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:55.413 23516 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:55.413 23516 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:55.413 23516 ERROR cinder     return list(self)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:55.413 23516 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:55.413 23516 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:55.413 23516 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:55.413 23516 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:55.413 23516 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:55.413 23516 ERROR cinder     context)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:55.413 23516 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:55.413 23516 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:55.413 23516 ERROR cinder     context)
2020-05-17 01:31:55.413 23516 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:55.413 23516 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:55.413 23516 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:55.413 23516 ERROR cinder 
2020-05-17 01:31:57.938 23537 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:31:58.032 23537 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:31:58.068 23537 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:31:58.457 23537 CRITICAL cinder [req-9c019f98-ed28-46b3-9ed2-867f71c86f58 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:58.457 23537 ERROR cinder Traceback (most recent call last):
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:31:58.457 23537 ERROR cinder     sys.exit(main())
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:31:58.457 23537 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:31:58.457 23537 ERROR cinder     cluster=cluster)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:31:58.457 23537 ERROR cinder     *args, **kwargs)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:31:58.457 23537 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:58.457 23537 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:31:58.457 23537 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:31:58.457 23537 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:31:58.457 23537 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:31:58.457 23537 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:31:58.457 23537 ERROR cinder     'frozen': False})
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:31:58.457 23537 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:31:58.457 23537 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:31:58.457 23537 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:31:58.457 23537 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:31:58.457 23537 ERROR cinder     return list(self)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:31:58.457 23537 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:31:58.457 23537 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:31:58.457 23537 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:31:58.457 23537 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:31:58.457 23537 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:31:58.457 23537 ERROR cinder     context)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:31:58.457 23537 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:31:58.457 23537 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:31:58.457 23537 ERROR cinder     context)
2020-05-17 01:31:58.457 23537 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:31:58.457 23537 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:31:58.457 23537 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:31:58.457 23537 ERROR cinder 
2020-05-17 01:32:01.142 23561 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:01.234 23561 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:32:01.263 23561 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:32:01.651 23561 CRITICAL cinder [req-3a19625a-3916-4a10-b2ed-1eaec8e11177 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:01.651 23561 ERROR cinder Traceback (most recent call last):
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:32:01.651 23561 ERROR cinder     sys.exit(main())
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:32:01.651 23561 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:32:01.651 23561 ERROR cinder     cluster=cluster)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:32:01.651 23561 ERROR cinder     *args, **kwargs)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:32:01.651 23561 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:01.651 23561 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:32:01.651 23561 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:32:01.651 23561 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:01.651 23561 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:32:01.651 23561 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:32:01.651 23561 ERROR cinder     'frozen': False})
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:32:01.651 23561 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:32:01.651 23561 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:32:01.651 23561 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:32:01.651 23561 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:32:01.651 23561 ERROR cinder     return list(self)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:32:01.651 23561 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:32:01.651 23561 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:32:01.651 23561 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:32:01.651 23561 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:32:01.651 23561 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:32:01.651 23561 ERROR cinder     context)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:32:01.651 23561 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:32:01.651 23561 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:32:01.651 23561 ERROR cinder     context)
2020-05-17 01:32:01.651 23561 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:32:01.651 23561 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:32:01.651 23561 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:01.651 23561 ERROR cinder 
2020-05-17 01:32:04.285 23583 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:04.383 23583 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:32:04.416 23583 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:32:04.779 23583 CRITICAL cinder [req-967fbb97-7d00-4701-b32a-9b3c653afc02 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:04.779 23583 ERROR cinder Traceback (most recent call last):
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:32:04.779 23583 ERROR cinder     sys.exit(main())
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:32:04.779 23583 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:32:04.779 23583 ERROR cinder     cluster=cluster)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:32:04.779 23583 ERROR cinder     *args, **kwargs)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:32:04.779 23583 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:04.779 23583 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:32:04.779 23583 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:32:04.779 23583 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:04.779 23583 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:32:04.779 23583 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:32:04.779 23583 ERROR cinder     'frozen': False})
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:32:04.779 23583 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:32:04.779 23583 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:32:04.779 23583 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:32:04.779 23583 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:32:04.779 23583 ERROR cinder     return list(self)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:32:04.779 23583 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:32:04.779 23583 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:32:04.779 23583 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:32:04.779 23583 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:32:04.779 23583 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:32:04.779 23583 ERROR cinder     context)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:32:04.779 23583 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:32:04.779 23583 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:32:04.779 23583 ERROR cinder     context)
2020-05-17 01:32:04.779 23583 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:32:04.779 23583 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:32:04.779 23583 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:04.779 23583 ERROR cinder 
2020-05-17 01:32:07.295 23603 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:07.385 23603 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:32:07.414 23603 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:32:07.802 23603 CRITICAL cinder [req-cf8dbfc8-20b4-4cc0-bcf4-9f400e146d41 - - - - -] Unhandled error: DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:07.802 23603 ERROR cinder Traceback (most recent call last):
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:32:07.802 23603 ERROR cinder     sys.exit(main())
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:32:07.802 23603 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:32:07.802 23603 ERROR cinder     cluster=cluster)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:32:07.802 23603 ERROR cinder     *args, **kwargs)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:32:07.802 23603 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:07.802 23603 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:32:07.802 23603 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:32:07.802 23603 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:07.802 23603 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:32:07.802 23603 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:32:07.802 23603 ERROR cinder     'frozen': False})
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:32:07.802 23603 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:32:07.802 23603 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:32:07.802 23603 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:32:07.802 23603 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:32:07.802 23603 ERROR cinder     return list(self)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:32:07.802 23603 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:32:07.802 23603 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:32:07.802 23603 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:32:07.802 23603 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:32:07.802 23603 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:32:07.802 23603 ERROR cinder     context)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:32:07.802 23603 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:32:07.802 23603 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:32:07.802 23603 ERROR cinder     context)
2020-05-17 01:32:07.802 23603 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:32:07.802 23603 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:32:07.802 23603 ERROR cinder DBNonExistentTable: (sqlite3.OperationalError) no such table: services [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.binary AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = 0 AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.binary = services.binary AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = ?'] [parameters: ('cinder-volume',)]
2020-05-17 01:32:07.802 23603 ERROR cinder 
2020-05-17 01:32:11.248 23624 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:11.459 23624 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:32:11.525 23624 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:32:12.418 23624 CRITICAL cinder [req-e84b3607-764e-4bc0-a42b-d5e031081718 - - - - -] Unhandled error: ProgrammingError: (pymysql.err.ProgrammingError) (1146, u"Table 'cinder.services' doesn't exist") [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.`binary` AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = false AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.`binary` = services.`binary` AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.`binary` = services.`binary` AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = %(topic_1)s'] [parameters: {u'topic_1': 'cinder-volume'}]
2020-05-17 01:32:12.418 23624 ERROR cinder Traceback (most recent call last):
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/bin/cinder-scheduler", line 10, in <module>
2020-05-17 01:32:12.418 23624 ERROR cinder     sys.exit(main())
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/cmd/scheduler.py", line 54, in main
2020-05-17 01:32:12.418 23624 ERROR cinder     server = service.Service.create(binary='cinder-scheduler')
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 395, in create
2020-05-17 01:32:12.418 23624 ERROR cinder     cluster=cluster)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/service.py", line 148, in __init__
2020-05-17 01:32:12.418 23624 ERROR cinder     *args, **kwargs)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/manager.py", line 76, in __init__
2020-05-17 01:32:12.418 23624 ERROR cinder     self.driver = importutils.import_object(scheduler_driver)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:12.418 23624 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/filter_scheduler.py", line 40, in __init__
2020-05-17 01:32:12.418 23624 ERROR cinder     super(FilterScheduler, self).__init__(*args, **kwargs)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/driver.py", line 76, in __init__
2020-05-17 01:32:12.418 23624 ERROR cinder     CONF.scheduler_host_manager)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/oslo_utils/importutils.py", line 44, in import_object
2020-05-17 01:32:12.418 23624 ERROR cinder     return import_class(import_str)(*args, **kwargs)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 409, in __init__
2020-05-17 01:32:12.418 23624 ERROR cinder     self._update_backend_state_map(cinder_context.get_admin_context())
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/scheduler/host_manager.py", line 574, in _update_backend_state_map
2020-05-17 01:32:12.418 23624 ERROR cinder     'frozen': False})
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/objects/service.py", line 213, in get_all
2020-05-17 01:32:12.418 23624 ERROR cinder     services = db.service_get_all(context, **(filters or {}))
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/api.py", line 129, in service_get_all
2020-05-17 01:32:12.418 23624 ERROR cinder     return IMPL.service_get_all(context, backend_match_level, **filters)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 177, in wrapper
2020-05-17 01:32:12.418 23624 ERROR cinder     return f(*args, **kwargs)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/cinder/db/sqlalchemy/api.py", line 537, in service_get_all
2020-05-17 01:32:12.418 23624 ERROR cinder     return [] if not query else query.all()
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2703, in all
2020-05-17 01:32:12.418 23624 ERROR cinder     return list(self)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2855, in __iter__
2020-05-17 01:32:12.418 23624 ERROR cinder     return self._execute_and_instances(context)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/orm/query.py", line 2878, in _execute_and_instances
2020-05-17 01:32:12.418 23624 ERROR cinder     result = conn.execute(querycontext.statement, self._params)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 945, in execute
2020-05-17 01:32:12.418 23624 ERROR cinder     return meth(self, multiparams, params)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/sql/elements.py", line 263, in _execute_on_connection
2020-05-17 01:32:12.418 23624 ERROR cinder     return connection._execute_clauseelement(self, multiparams, params)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1053, in _execute_clauseelement
2020-05-17 01:32:12.418 23624 ERROR cinder     compiled_sql, distilled_params
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1189, in _execute_context
2020-05-17 01:32:12.418 23624 ERROR cinder     context)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1398, in _handle_dbapi_exception
2020-05-17 01:32:12.418 23624 ERROR cinder     util.raise_from_cause(newraise, exc_info)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/util/compat.py", line 203, in raise_from_cause
2020-05-17 01:32:12.418 23624 ERROR cinder     reraise(type(exception), exception, tb=exc_tb, cause=cause)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/base.py", line 1182, in _execute_context
2020-05-17 01:32:12.418 23624 ERROR cinder     context)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/sqlalchemy/engine/default.py", line 470, in do_execute
2020-05-17 01:32:12.418 23624 ERROR cinder     cursor.execute(statement, parameters)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/cursors.py", line 166, in execute
2020-05-17 01:32:12.418 23624 ERROR cinder     result = self._query(query)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/cursors.py", line 322, in _query
2020-05-17 01:32:12.418 23624 ERROR cinder     conn.query(q)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/connections.py", line 856, in query
2020-05-17 01:32:12.418 23624 ERROR cinder     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/connections.py", line 1057, in _read_query_result
2020-05-17 01:32:12.418 23624 ERROR cinder     result.read()
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/connections.py", line 1340, in read
2020-05-17 01:32:12.418 23624 ERROR cinder     first_packet = self.connection._read_packet()
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/connections.py", line 1014, in _read_packet
2020-05-17 01:32:12.418 23624 ERROR cinder     packet.check_error()
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/connections.py", line 393, in check_error
2020-05-17 01:32:12.418 23624 ERROR cinder     err.raise_mysql_exception(self._data)
2020-05-17 01:32:12.418 23624 ERROR cinder   File "/usr/lib/python2.7/dist-packages/pymysql/err.py", line 107, in raise_mysql_exception
2020-05-17 01:32:12.418 23624 ERROR cinder     raise errorclass(errno, errval)
2020-05-17 01:32:12.418 23624 ERROR cinder ProgrammingError: (pymysql.err.ProgrammingError) (1146, u"Table 'cinder.services' doesn't exist") [SQL: u'SELECT services.created_at AS services_created_at, services.deleted_at AS services_deleted_at, services.deleted AS services_deleted, services.id AS services_id, services.cluster_name AS services_cluster_name, services.host AS services_host, services.`binary` AS services_binary, services.updated_at AS services_updated_at, services.topic AS services_topic, services.report_count AS services_report_count, services.disabled AS services_disabled, services.availability_zone AS services_availability_zone, services.disabled_reason AS services_disabled_reason, services.modified_at AS services_modified_at, services.rpc_current_version AS services_rpc_current_version, services.object_current_version AS services_object_current_version, services.replication_status AS services_replication_status, services.active_backend_id AS services_active_backend_id, services.frozen AS services_frozen \nFROM services \nWHERE services.deleted = false AND NOT (services.cluster_name IS NULL AND services.disabled = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.`binary` = services.`binary` AND clusters.deleted = 0 AND clusters.disabled = 1))) AND NOT (services.cluster_name IS NULL AND services.frozen = 1 OR services.cluster_name IS NOT NULL AND (EXISTS (SELECT * \nFROM clusters \nWHERE clusters.name = services.cluster_name AND clusters.`binary` = services.`binary` AND clusters.deleted = 0 AND clusters.frozen = 1))) AND services.topic = %(topic_1)s'] [parameters: {u'topic_1': 'cinder-volume'}]
2020-05-17 01:32:12.418 23624 ERROR cinder 
2020-05-17 01:32:19.021 23670 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:26.203 23725 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:32:26.467 23725 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:32:26.552 23725 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:32:27.655 23725 INFO cinder.rpc [req-7afe6e3c-01a2-45b1-a3cd-fa9e53d21454 - - - - -] Automatically selected cinder-volume objects version 1.27 as minimum service version.
2020-05-17 01:32:27.668 23725 INFO cinder.rpc [req-7afe6e3c-01a2-45b1-a3cd-fa9e53d21454 - - - - -] Automatically selected cinder-volume RPC version 3.15 as minimum service version.
2020-05-17 01:32:27.690 23725 INFO cinder.rpc [req-7afe6e3c-01a2-45b1-a3cd-fa9e53d21454 - - - - -] Automatically selected cinder-scheduler objects version 1.27 as minimum service version.
2020-05-17 01:32:27.719 23725 INFO cinder.rpc [req-7afe6e3c-01a2-45b1-a3cd-fa9e53d21454 - - - - -] Automatically selected cinder-scheduler RPC version 3.7 as minimum service version.
2020-05-17 01:32:27.799 23725 INFO cinder.service [-] Starting cinder-scheduler node (version 11.2.1)
2020-05-17 01:32:27.815 23725 INFO cinder.manager [req-5a3278f8-42fe-47cf-8ef7-7874961128e8 - - - - -] Initiating service 1 cleanup
2020-05-17 01:32:27.826 23725 INFO cinder.manager [req-5a3278f8-42fe-47cf-8ef7-7874961128e8 - - - - -] Service 1 cleanup completed.
2020-05-17 01:33:54.957 23725 INFO cinder.message.api [req-7d665591-5f85-432a-bcf7-207d3d00b629 - - - - -] Deleted 0 expired messages.
2020-05-17 01:50:34.262 24983 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:50:34.437 24983 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:50:34.507 24983 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:50:35.812 24983 WARNING cinder.scheduler.host_manager [req-0cab09e6-842c-4f39-9159-374149272428 - - - - -] volume service is down. (host: block1@lvm)
2020-05-17 01:50:35.819 24983 INFO cinder.rpc [req-0cab09e6-842c-4f39-9159-374149272428 - - - - -] Automatically selected cinder-volume objects version 1.27 as minimum service version.
2020-05-17 01:50:35.824 24983 INFO cinder.rpc [req-0cab09e6-842c-4f39-9159-374149272428 - - - - -] Automatically selected cinder-volume RPC version 3.15 as minimum service version.
2020-05-17 01:50:35.834 24983 INFO cinder.rpc [req-0cab09e6-842c-4f39-9159-374149272428 - - - - -] Automatically selected cinder-scheduler objects version 1.27 as minimum service version.
2020-05-17 01:50:35.840 24983 INFO cinder.rpc [req-0cab09e6-842c-4f39-9159-374149272428 - - - - -] Automatically selected cinder-scheduler RPC version 3.7 as minimum service version.
2020-05-17 01:50:35.880 24983 INFO cinder.service [-] Starting cinder-scheduler node (version 11.2.1)
2020-05-17 01:50:35.886 24983 INFO cinder.manager [req-59695ddc-bbf4-46bd-97c8-dd77ac299562 - - - - -] Initiating service 1 cleanup
2020-05-17 01:50:35.891 24983 INFO cinder.manager [req-59695ddc-bbf4-46bd-97c8-dd77ac299562 - - - - -] Service 1 cleanup completed.
2020-05-17 01:50:57.310 25301 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 01:50:57.518 25301 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 01:50:57.585 25301 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 01:50:58.416 25301 WARNING cinder.scheduler.host_manager [req-ada63a21-e9b6-4c0d-a969-e01874038b0a - - - - -] volume service is down. (host: block1@lvm)
2020-05-17 01:50:58.427 25301 INFO cinder.rpc [req-ada63a21-e9b6-4c0d-a969-e01874038b0a - - - - -] Automatically selected cinder-volume objects version 1.27 as minimum service version.
2020-05-17 01:50:58.437 25301 INFO cinder.rpc [req-ada63a21-e9b6-4c0d-a969-e01874038b0a - - - - -] Automatically selected cinder-volume RPC version 3.15 as minimum service version.
2020-05-17 01:50:58.454 25301 INFO cinder.rpc [req-ada63a21-e9b6-4c0d-a969-e01874038b0a - - - - -] Automatically selected cinder-scheduler objects version 1.27 as minimum service version.
2020-05-17 01:50:58.469 25301 INFO cinder.rpc [req-ada63a21-e9b6-4c0d-a969-e01874038b0a - - - - -] Automatically selected cinder-scheduler RPC version 3.7 as minimum service version.
2020-05-17 01:50:58.521 25301 INFO cinder.service [-] Starting cinder-scheduler node (version 11.2.1)
2020-05-17 01:50:58.542 25301 INFO cinder.manager [req-ce1576af-c7fe-4de0-bcbc-6b99d9b14f87 - - - - -] Initiating service 1 cleanup
2020-05-17 01:50:58.546 25301 INFO cinder.manager [req-ce1576af-c7fe-4de0-bcbc-6b99d9b14f87 - - - - -] Service 1 cleanup completed.
2020-05-17 01:52:37.648 25301 INFO cinder.message.api [req-3edf06c7-b2ab-4184-bc96-96a89b3577b6 - - - - -] Deleted 0 expired messages.
2020-05-17 01:52:51.428 25301 WARNING cinder.scheduler.host_manager [req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] volume service is down. (host: block1@lvm)
2020-05-17 01:52:51.429 25301 INFO cinder.scheduler.base_filter [req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Filtering removed all hosts for the request with volume ID 'c7954cfc-892f-4670-b468-15a762bdaaee'. Filter results: AvailabilityZoneFilter: (start: 0, end: 0), CapacityFilter: (start: 0, end: 0), CapabilitiesFilter: (start: 0, end: 0)
2020-05-17 01:52:51.429 25301 WARNING cinder.scheduler.filter_scheduler [req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] No weighed backend found for volume with properties: None
2020-05-17 01:52:51.431 25301 INFO cinder.message.api [req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Creating message record for request_id = req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df
2020-05-17 01:52:51.439 25301 ERROR cinder.scheduler.flows.create_volume [req-3d1bd754-bd5c-4847-9c12-d3f2db6a93df a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Failed to run task cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create: No valid backend was found. No weighed backends available: NoValidBackend: No valid backend was found. No weighed backends available
2020-05-17 02:12:15.056 1737 WARNING oslo_reports.guru_meditation_report [-] Guru meditation now registers SIGUSR1 and SIGUSR2 by default for backward compatibility. SIGUSR1 will no longer be registered in a future release, so please use SIGUSR2 to generate reports.
2020-05-17 02:12:17.459 1737 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/Grammar.txt
2020-05-17 02:12:17.784 1737 INFO root [-] Generating grammar tables from /usr/lib/python2.7/lib2to3/PatternGrammar.txt
2020-05-17 02:12:21.421 1737 WARNING cinder.scheduler.host_manager [req-9c0a0b0b-a82f-4e20-a02c-aeddc58a1378 - - - - -] volume service is down. (host: block1@lvm)
2020-05-17 02:12:21.477 1737 INFO cinder.rpc [req-9c0a0b0b-a82f-4e20-a02c-aeddc58a1378 - - - - -] Automatically selected cinder-volume objects version 1.27 as minimum service version.
2020-05-17 02:12:21.514 1737 INFO cinder.rpc [req-9c0a0b0b-a82f-4e20-a02c-aeddc58a1378 - - - - -] Automatically selected cinder-volume RPC version 3.15 as minimum service version.
2020-05-17 02:12:21.578 1737 INFO cinder.rpc [req-9c0a0b0b-a82f-4e20-a02c-aeddc58a1378 - - - - -] Automatically selected cinder-scheduler objects version 1.27 as minimum service version.
2020-05-17 02:12:21.637 1737 INFO cinder.rpc [req-9c0a0b0b-a82f-4e20-a02c-aeddc58a1378 - - - - -] Automatically selected cinder-scheduler RPC version 3.7 as minimum service version.
2020-05-17 02:12:21.863 1737 INFO cinder.service [-] Starting cinder-scheduler node (version 11.2.1)
2020-05-17 02:12:21.921 1737 INFO cinder.manager [req-39ef75a7-565e-441e-a1e7-fb3ef96bc92d - - - - -] Initiating service 1 cleanup
2020-05-17 02:12:21.956 1737 INFO cinder.manager [req-39ef75a7-565e-441e-a1e7-fb3ef96bc92d - - - - -] Service 1 cleanup completed.
2020-05-17 02:13:36.319 1737 INFO cinder.message.api [req-037f17e6-6caf-4012-b903-c9ff51c5df6e - - - - -] Deleted 0 expired messages.
2020-05-17 02:14:36.825 1737 WARNING cinder.scheduler.host_manager [req-e51a94de-0b0a-4de8-8082-7a020e38ad36 a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] volume service is down. (host: block1@lvm)
2020-05-17 02:14:36.826 1737 INFO cinder.scheduler.base_filter [req-e51a94de-0b0a-4de8-8082-7a020e38ad36 a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Filtering removed all hosts for the request with volume ID '08e10848-6adc-44e0-90db-ac5808b0aaf4'. Filter results: AvailabilityZoneFilter: (start: 0, end: 0), CapacityFilter: (start: 0, end: 0), CapabilitiesFilter: (start: 0, end: 0)
2020-05-17 02:14:36.827 1737 WARNING cinder.scheduler.filter_scheduler [req-e51a94de-0b0a-4de8-8082-7a020e38ad36 a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] No weighed backend found for volume with properties: None
2020-05-17 02:14:36.828 1737 INFO cinder.message.api [req-e51a94de-0b0a-4de8-8082-7a020e38ad36 a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Creating message record for request_id = req-e51a94de-0b0a-4de8-8082-7a020e38ad36
2020-05-17 02:14:36.836 1737 ERROR cinder.scheduler.flows.create_volume [req-e51a94de-0b0a-4de8-8082-7a020e38ad36 a4a60b3589dd4bba891e84933a0d3b1a 5a524cc014584b20a97b2fafb696215b - default default] Failed to run task cinder.scheduler.flows.create_volume.ScheduleCreateVolumeTask;volume:create: No valid backend was found. No weighed backends available: NoValidBackend: No valid backend was found. No weighed backends available
